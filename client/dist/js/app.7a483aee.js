(function(){"use strict";var e={4868:function(e,t,r){var o=r(9242),d=r(1020),s=r(2483),a=r(3396),l=r(7139);const i={class:"flex mb-4"},n={key:0,class:"text-red-500 text-center mt-4"},c={key:1,class:"text-red-500 text-center mt-4"},u={class:"container"},h={key:0},p=(0,a._)("thead",{class:"text-white"},[(0,a._)("tr",{class:"bg-teal-400 flex flex-col flex-no wrap rounded-l-lg mb-2"},[(0,a._)("th",{class:"p-2 text-left text-m"},"Nr"),(0,a._)("th",{class:"p-2 text-left text-m"},"Name"),(0,a._)("th",{class:"p-2 text-left text-m"},"Age"),(0,a._)("th",{class:"p-2 text-left text-m"},"Address"),(0,a._)("th",{class:"p-2 text-left text-m",width:"110px"},"Actions")])],-1),g={class:"flex-1"},b={class:"flex flex-col flex-no wrap mb-2"},m={class:"border-grey-light border hover:bg-gray-100 p-2"},f={class:"border-grey-light border hover:bg-gray-100 p-2 truncate"},y={class:"border-grey-light border hover-bg-gray-100 p-2 truncate"},w={class:"border-grey-light border hover-bg-gray-100 p-2 truncate"},x=(0,a._)("td",{class:"border-grey-light border hover:bg-gray-100 p-2 flex justify-around"},[(0,a._)("span",{class:"text-blue-400 hover:text-blue-600 hover:font-medium cursor-pointer"},"Update"),(0,a._)("span",{class:"text-red-400 hover:text-red-600 hover:font-medium cursor-pointer"},"Delete")],-1),v={key:1},k={class:"w-full flex flex-row flex-no-wrap bg-white rounded-lg overflow-hidden shadow-lg my-5"},_=(0,a._)("thead",{class:"text-white"},[(0,a._)("tr",{class:"bg-teal-400 flex-col flex-no wrap table-row rounded-l-lg rounded-none mb-2 sm:mb-0"},[(0,a._)("th",{class:"p-3 text-left"},"Nr"),(0,a._)("th",{class:"p-3 text-left"},"Name"),(0,a._)("th",{class:"p-3 text-left"},"Age"),(0,a._)("th",{class:"p-3 text-left"},"Billing Address"),(0,a._)("th",{class:"p-3 text-center"},"Actions")])],-1),C={class:"flex-none"},O={class:"border-grey-light border hover:bg-gray-100 p-3"},P={class:"border-grey-light border hover:bg-gray-100 p-3 truncate"},S={class:"border-grey-light border hover:bg-gray-100 p-3 truncate"},M={class:"border-grey-light border hover:bg-gray-100 p-3 truncate"},D={class:"border-grey-light border hover:bg-gray-100 p-3 flex justify-around"},z=["onClick"],A=["onClick"],N={class:"flex justify-end"};function U(e,t,r,d,s,U){const q=(0,a.up)("CustomerModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(q,{updatedCustomer:s.updatedCustomer,modalActive:s.openCustomerModal,onCloseModal:U.closeModal,onCustomerAdded:t[0]||(t[0]=e=>U.loadCustomers()),onCustomerUpdated:t[1]||(t[1]=e=>U.loadCustomers())},null,8,["updatedCustomer","modalActive","onCloseModal"]),(0,a._)("button",{onClick:t[2]||(t[2]=e=>U.openModal()),class:"w-full md:w-2/5 bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 mb-4 rounded"},"Add new customer"),(0,a._)("div",i,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.filters=e),onInput:t[4]||(t[4]=(...e)=>U.resetFilter&&U.resetFilter(...e)),type:"text",class:"w-2/3 border border-gray-300 rounded-md py-2 px-4 flex-grow",placeholder:"Search Customer",required:""},null,544),[[o.nr,s.filters]]),(0,a._)("button",{onClick:t[5]||(t[5]=(...e)=>U.filteredCustomers&&U.filteredCustomers(...e)),class:"w-1/3 bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 ml-2 rounded"}," Search ")]),s.showNoDataMessage?((0,a.wg)(),(0,a.iD)("p",n," No data found. ")):(0,a.kq)("",!0),0===s.customers.length?((0,a.wg)(),(0,a.iD)("p",c," No customers added yet ")):(0,a.kq)("",!0),(0,a._)("div",u,[s.windowWidth<640?((0,a.wg)(),(0,a.iD)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.displayedCustomers,((e,t)=>((0,a.wg)(),(0,a.iD)("table",{key:e.id,class:"w-full flex flex-row flex-no-wrap rounded-lg overflow-hidden my-5"},[p,(0,a._)("tbody",g,[(0,a._)("tr",b,[(0,a._)("td",m,(0,l.zw)(t+1),1),(0,a._)("td",f,(0,l.zw)(e.firstName+" "+e.lastName),1),(0,a._)("td",y,(0,l.zw)(e.age),1),(0,a._)("td",w,(0,l.zw)(e.billingAdress),1),x])])])))),128))])):((0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("table",k,[_,(0,a._)("tbody",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.displayedCustomers,((t,r)=>((0,a.wg)(),(0,a.iD)("tr",{key:t.id,class:"flex-col flex-no wrap mb-0"},[(0,a._)("td",O,(0,l.zw)(r+1),1),(0,a._)("td",P,(0,l.zw)(t.firstName+" "+t.lastName),1),(0,a._)("td",S,(0,l.zw)(t.age),1),(0,a._)("td",M,(0,l.zw)(t.billingAdress),1),(0,a._)("td",D,[(0,a._)("button",{onClick:e=>U.openModal(t),class:"text-blue-400 hover:text-blue-600 hover:font-medium cursor-pointer"},"Update",8,z),(0,a._)("button",{onClick:r=>e.deleteOrder(t),class:"text-red-400 hover:text-red-600 hover:font-medium cursor-pointer"},"Delete",8,A)])])))),128))])])]))]),(0,a._)("div",N,[U.canLoadMore?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[6]||(t[6]=(...e)=>U.loadMoreCustomers&&U.loadMoreCustomers(...e)),class:"w-2/5 bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 mt-4 rounded"}," Load More ")):(0,a.kq)("",!0)])],64)}r(7658);var q=r(3029);const I=(0,d.Q_)("notification",{state:()=>({notifications:[]}),getters:{all:e=>e.notifications},actions:{addNotification(e){this.notifications.push(e),setTimeout((()=>{this.removeNotification(e)}),3e3)},removeNotification(e){this.notifications=this.notifications.filter((t=>t.type!==e.type&&t.message!==e.message))}}}),T=(0,d.Q_)("customer",{state:()=>({customers:[]}),actions:{getCustomers(e){if(e)return this.customers.filter((t=>{const r=e.toLowerCase().trim(),{firstName:o,lastName:d}=t;return o.toString().toLowerCase().includes(r)||d.toString().toLowerCase().includes(r)}));try{return this.customers=JSON.parse(localStorage.getItem("customers")||"[]")}catch(t){console.error(t.message)}},async addCustomer(e){try{const t=this.customers,r=(0,q.Z)(),o={...e,id:r};t.push(o),localStorage.setItem("customers",JSON.stringify(t)),this.customers=t,I().addNotification({type:"success",message:"Customer was added successfully"})}catch(t){console.error(t.message)}},updateCustomer(e){try{const t=this.customers.findIndex((t=>t.id===e.id));t>-1&&(this.customers[t]=e,localStorage.setItem("customers",JSON.stringify(this.customers)),I().addNotification({type:"success",message:"Customer was updated successfully"}))}catch(t){console.error()}},deleteCustomer(e){const t=this.customers.indexOf(e);t>-1&&(this.customers.splice(t,1),localStorage.setItem("customers",JSON.stringify(this.customers)),I().addNotification({type:"success",message:"Customer was deleted successfully"}))}}}),j=(0,d.Q_)("product",{state:()=>({products:[]}),actions:{getProductById(e){try{return this.products.find((t=>t.id===e))}catch(t){console.error(t.message)}},getProducts(e){if(e)return this.products.filter((t=>{const r=e.toLowerCase().trim(),{name:o,sku:d}=t;return o.toString().toLowerCase().includes(r)||d.toString().toLowerCase().includes(r)}));try{return this.products=JSON.parse(localStorage.getItem("products")||"[]")}catch(t){console.error(t.message)}},addProduct(e){try{const t=this.products,r=(0,q.Z)(),o={...e,id:r};t.push(o),localStorage.setItem("products",JSON.stringify(t)),this.products=t,I().addNotification({type:"success",message:"Product was added successfully"})}catch(t){console.error(t.message)}},deleteProduct(e){const t=this.products.indexOf(e);t>-1&&(this.products.splice(t,1),localStorage.setItem("products",JSON.stringify(this.products)),I().addNotification({type:"success",message:"Product was deleted successfully"}))},updateProduct(e){try{const t=this.products.findIndex((t=>t.id===e.id));t>-1&&(this.products[t]=e,localStorage.setItem("products",JSON.stringify(this.products)),I().addNotification({type:"success",message:"Product was updated successfully"}))}catch(t){console.error(t)}},updateProductStock(e,t,r){const o=this.getProductById(e);o&&("substract"===r?o.stock-=t:"add"===r&&(o.stock+=t),localStorage.setItem("products",JSON.stringify(this.products)))}}}),W={class:"fixed inset-0 flex items-center justify-center z-50"},L={class:"bg-white w-full md:w-2/3 lg:w-1/2 p-6 rounded-lg relative"},$={class:"text-xl font-bold mb-4"},H=(0,a._)("label",{for:"firstName",class:"text-gray-700"},"First Name:",-1),V=(0,a._)("label",{for:"lastName",class:"text-gray-700"},"Last Name:",-1),F=(0,a._)("label",{for:"age",class:"text-gray-700"},"Age:",-1),R=(0,a._)("label",{for:"shippAdress",class:"text-gray-700"},"Shipping Adress:",-1),Z=(0,a._)("label",{for:"billAdress",class:"text-gray-700"},"Billing Adress:",-1),K={class:""};function Y(e,t,r,d,s,i){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",W,[(0,a._)("div",{class:"bg-black bg-opacity-50 fixed inset-0",onClick:t[0]||(t[0]=t=>e.$emit("close-modal"))}),(0,a._)("div",L,[(0,a._)("h2",$,(0,l.zw)(i.modalTitle),1),(0,a._)("form",{onSubmit:t[6]||(t[6]=(0,o.iM)(((...e)=>i.saveCustomer&&i.saveCustomer(...e)),["prevent"])),class:"space-y-4"},[(0,a._)("div",null,[H,(0,a.wy)((0,a._)("input",{type:"text",id:"firstName","onUpdate:modelValue":t[1]||(t[1]=e=>i.customer.firstName=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},null,512),[[o.nr,i.customer.firstName]])]),(0,a._)("div",null,[V,(0,a.wy)((0,a._)("input",{type:"text",id:"lastName","onUpdate:modelValue":t[2]||(t[2]=e=>i.customer.lastName=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},null,512),[[o.nr,i.customer.lastName]])]),(0,a._)("div",null,[F,(0,a.wy)((0,a._)("input",{type:"number",id:"age","onUpdate:modelValue":t[3]||(t[3]=e=>i.customer.age=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},null,512),[[o.nr,i.customer.age]])]),(0,a._)("div",null,[R,(0,a.wy)((0,a._)("input",{type:"text",id:"shippAdress","onUpdate:modelValue":t[4]||(t[4]=e=>i.customer.shippingAdress=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},null,512),[[o.nr,i.customer.shippingAdress]])]),(0,a._)("div",null,[Z,(0,a.wy)((0,a._)("input",{type:"text",id:"billAdress","onUpdate:modelValue":t[5]||(t[5]=e=>i.customer.billingAdress=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},null,512),[[o.nr,i.customer.billingAdress]])]),(0,a._)("div",K,[(0,a._)("button",{type:"submit",class:(0,l.C_)([i.buttonClass,"mb-2 bg-blue-500 hover:bg-blue-600 font-bold py-2 px-4 rounded w-full"])},(0,l.zw)(i.submitText),3)])],32),(0,a._)("button",{onClick:t[7]||(t[7]=t=>e.$emit("close-modal")),class:"bg-red-500 text-white hover:bg-blue-600 font-bold py-2 px-4 rounded w-full"},"Close")])],512)),[[o.F8,r.modalActive]])}var B={props:{updatedCustomer:{type:Object,default(){return{}}},modalActive:{type:Boolean,default:!1}},computed:{customerStore(){return T()},customer(){return Object.keys(this.updatedCustomer).length>0?this.updatedCustomer:{firstName:"",lastName:"",age:"",shippingAdress:"",billingAdress:""}},isUpdating(){return Object.keys(this.updatedCustomer).length>0},modalTitle(){return this.isUpdating?"Update Customer":"Add new Customer"},submitText(){return this.isUpdating?"Update Customer":"Add new Customer"},buttonClass(){return this.isUpdating?"mb-2 bg-blue-500 text-white hover:bg-blue-600 font-bold py-2 px-4 rounded w-full":"w-full mb-2 text-black bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 mb-4 rounded"}},methods:{saveCustomer(){Object.keys(this.updatedCustomer).length>0?(this.customerStore.updateCustomer(this.customer),this.$emit("customerUpdated"),this.$emit("close-modal")):(this.customerStore.addCustomer(this.customer),this.$emit("customerAdded"),this.$emit("close-modal"))}},emits:["customerAdded","customerUpdated","close-modal"]},J=r(89);const E=(0,J.Z)(B,[["render",Y]]);var Q=E,G={components:{CustomerModal:Q},data(){return{customers:[],filters:"",pageSize:10,displayedCustomers:[],loadedCustomersCount:0,showNoDataMessage:!1,updatedCustomer:{},selectedProduct:{},openCustomerModal:!1,windowWidth:window.innerWidth}},mounted(){this.$nextTick((()=>{window.addEventListener("resize",this.onResize)}))},beforeDestroy(){window.removeEventListener("resize",this.onResize)},created(){this.loadCustomers()},computed:{customerStore(){return T()},products(){return j().getProducts()},canLoadMore(){return this.loadedCustomersCount<this.customers.length}},methods:{loadCustomers(){this.customers=this.customerStore.getCustomers(),this.displayedCustomers=this.customers.slice(0,this.pageSize),this.loadedCustomersCount=this.displayedCustomers.length},loadMoreCustomers(){const e=this.customers.slice(this.loadedCustomersCount,this.loadedCustomersCount+this.pageSize);this.displayedCustomers=[...this.displayedCustomers,...e],this.loadedCustomersCount+=e.length},filteredCustomers(){""!==this.filters.trim()?this.displayedCustomers=this.customerStore.getCustomers(this.filters):this.displayedCustomers=this.customerStore.getCustomers(),this.showNoDataMessage=0===this.displayedCustomers.length},resetFilter(){this.filters||(this.filters="",this.filteredCustomers())},openModal(e){this.updatedCustomer=e||{},this.openCustomerModal=!0},closeModal(){this.openCustomerModal=!1},deleteCustomer(e){this.customerStore.deleteCustomer(e),this.loadCustomers()},onResize(){this.windowWidth=window.innerWidth}}};const X=(0,J.Z)(G,[["render",U]]);var ee=X;const te={class:"overflow-x-auto"},re={class:"flex mb-4"},oe={key:0,class:"text-red-500 text-center mt-4"},de={class:"container"},se={key:0},ae=(0,a._)("thead",{class:"text-white w-1/2"},[(0,a._)("tr",{class:"bg-teal-400 flex flex-col flex-no wrap rounded-l-lg mb-2"},[(0,a._)("th",{class:"p-3 text-left"},"Nr."),(0,a._)("th",{class:"p-3 text-left"},"Name"),(0,a._)("th",{class:"p-3 text-left"},"Price"),(0,a._)("th",{class:"p-3 text-left"},"Stock"),(0,a._)("th",{class:"p-3 text-left"},"SKU"),(0,a._)("th",{class:"p-3 text-left"},"Actions")])],-1),le={class:"flex-1 w-1/2"},ie={class:"flex flex-col flex-no wrap mb-2"},ne={class:"border-grey-light border hover:bg-gray-100 p-3"},ce={class:"border-grey-light border hover:bg-gray-100 p-3 truncate"},ue={class:"border-grey-light border hover-bg-gray-100 p-3 truncate"},he={class:"border-grey-light border hover-bg-gray-100 p-3 truncate"},pe={class:"border-grey-light border hover-bg-gray-100 p-3 truncate"},ge={class:"border-grey-light border hover:bg-gray-100 p-3 flex justify-between"},be=["onClick"],me=["onClick"],fe={key:1},ye={class:"w-full flex flex-row flex-no-wrap bg-white rounded-lg overflow-hidden shadow-lg my-5"},we=(0,a._)("thead",{class:"text-white"},[(0,a._)("tr",{class:"bg-teal-400 flex-col flex-no wrap table-row rounded-l-lg rounded-none mb-0"},[(0,a._)("th",{class:"p-3 text-left"},"Nr."),(0,a._)("th",{class:"p-3 text-left"},"Name"),(0,a._)("th",{class:"p-3 text-left"},"Price"),(0,a._)("th",{class:"p-3 text-left"},"Stock"),(0,a._)("th",{class:"p-3 text-left"},"SKU"),(0,a._)("th",{class:"p-3 text-center"},"Actions")])],-1),xe={class:"flex-none"},ve={class:"border-grey-light border hover:bg-gray-100 p-3"},ke={class:"border-grey-light border hover:bg-gray-100 p-3 truncate"},_e={class:"border-grey-light border hover:bg-gray-100 p-3 truncate"},Ce={class:"border-grey-light border hover:bg-gray-100 p-3 truncate"},Oe={class:"border-grey-light border hover:bg-gray-100 p-3 truncate"},Pe={class:"border-grey-light border hover:bg-gray-100 p-3 flex justify-around"},Se=["onClick"],Me=["onClick"],De={class:"flex justify-end"};function ze(e,t,r,d,s,i){const n=(0,a.up)("ProductsModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n,{updatedProduct:s.updatedProduct,modalActive:s.openProductModal,onCloseModal:i.closeModal,onProductAdded:t[0]||(t[0]=e=>i.loadProducts()),onProductUpdated:t[1]||(t[1]=e=>i.loadProducts())},null,8,["updatedProduct","modalActive","onCloseModal"]),(0,a._)("button",{onClick:t[2]||(t[2]=e=>i.openModal()),class:"w-full md:w-2/5 bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 mb-4 rounded"},"Add new product"),(0,a._)("div",te,[(0,a._)("div",re,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.filters=e),onInput:t[4]||(t[4]=(...e)=>i.resetFilter&&i.resetFilter(...e)),type:"text",class:"w-2/3 border border-gray-300 rounded-md py-2 px-4 flex-grow",placeholder:"Search Products",required:""},null,544),[[o.nr,s.filters]]),(0,a._)("button",{onClick:t[5]||(t[5]=(...e)=>i.filteredProducts&&i.filteredProducts(...e)),class:"w-1/3 bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 ml-2 rounded"}," Search ")]),s.showNoDataMessage?((0,a.wg)(),(0,a.iD)("p",oe," No data found. ")):(0,a.kq)("",!0),(0,a._)("div",de,[s.windowWidth<640?((0,a.wg)(),(0,a.iD)("div",se,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.displayedProducts,((t,r)=>((0,a.wg)(),(0,a.iD)("table",{key:t.id,class:"w-full flex flex-row flex-no-wrap rounded-lg overflow-hidden my-5"},[ae,(0,a._)("tbody",le,[(0,a._)("tr",ie,[(0,a._)("td",ne,(0,l.zw)(r+1),1),(0,a._)("td",ce,(0,l.zw)(t.name),1),(0,a._)("td",ue,(0,l.zw)(t.price)+"€",1),(0,a._)("td",he,(0,l.zw)(t.stock),1),(0,a._)("td",pe,(0,l.zw)(t.sku),1),(0,a._)("td",ge,[(0,a._)("span",{onClick:e=>i.openModal(t),class:"text-blue-400 hover:text-blue-600 hover:font-medium cursor-pointer"},"Update",8,be),(0,a._)("span",{onClick:r=>e.deleteOrder(t),class:"text-red-400 hover:text-red-600 hover:font-medium cursor-pointer"},"Delete",8,me)])])])])))),128))])):((0,a.wg)(),(0,a.iD)("div",fe,[(0,a._)("table",ye,[we,(0,a._)("tbody",xe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.displayedProducts,((t,r)=>((0,a.wg)(),(0,a.iD)("tr",{key:t.id,class:"flex-col flex-no wrap table-row mb-0"},[(0,a._)("td",ve,(0,l.zw)(r+1),1),(0,a._)("td",ke,(0,l.zw)(t.name),1),(0,a._)("td",_e,(0,l.zw)(t.price)+"€",1),(0,a._)("td",Ce,(0,l.zw)(t.stock),1),(0,a._)("td",Oe,(0,l.zw)(t.sku),1),(0,a._)("div",Pe,[(0,a._)("button",{onClick:e=>i.openModal(t),class:"text-blue-400 hover:text-blue-600 hover:font-medium cursor-pointer"},"Update",8,Se),(0,a._)("button",{onClick:r=>e.deleteOrder(t),class:"text-red-400 hover:text-red-600 hover:font-medium cursor-pointer"},"Delete",8,Me)])])))),128))])])]))])]),(0,a._)("div",De,[i.canLoadMore?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[6]||(t[6]=(...e)=>i.loadMoreProducts&&i.loadMoreProducts(...e)),class:"bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 mt-4 rounded"}," Load More ")):(0,a.kq)("",!0)])],64)}const Ae={class:"fixed inset-0 flex items-center justify-center z-50"},Ne={class:"bg-white w-full md:w-2/3 lg:w-1/2 p-6 rounded-lg relative"},Ue={class:"text-xl font-bold mb-4"},qe=(0,a._)("label",{for:"name",class:"text-gray-700"},"Name",-1),Ie=(0,a._)("label",{for:"price",class:"text-gray-700"},"Price",-1),Te=(0,a._)("label",{for:"stock",class:"text-gray-700"},"Stock",-1),je=(0,a._)("label",{for:"sku",class:"text-gray-700"},"SKU",-1),We={class:""};function Le(e,t,r,d,s,i){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",Ae,[(0,a._)("div",{class:"bg-black bg-opacity-50 fixed inset-0",onClick:t[0]||(t[0]=t=>e.$emit("close-modal"))}),(0,a._)("div",Ne,[(0,a._)("h2",Ue,(0,l.zw)(i.modalTitle),1),(0,a._)("form",{onSubmit:t[5]||(t[5]=(0,o.iM)(((...e)=>i.saveProduct&&i.saveProduct(...e)),["prevent"])),class:"space-y-4"},[(0,a._)("div",null,[qe,(0,a.wy)((0,a._)("input",{type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>i.product.name=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},null,512),[[o.nr,i.product.name]])]),(0,a._)("div",null,[Ie,(0,a.wy)((0,a._)("input",{type:"number",step:"0.01",min:"0",id:"price","onUpdate:modelValue":t[2]||(t[2]=e=>i.product.price=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},null,512),[[o.nr,i.product.price]])]),(0,a._)("div",null,[Te,(0,a.wy)((0,a._)("input",{type:"number",id:"stock","onUpdate:modelValue":t[3]||(t[3]=e=>i.product.stock=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},null,512),[[o.nr,i.product.stock]])]),(0,a._)("div",null,[je,(0,a.wy)((0,a._)("input",{type:"text",id:"sku","onUpdate:modelValue":t[4]||(t[4]=e=>i.product.sku=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},null,512),[[o.nr,i.product.sku]])]),(0,a._)("div",We,[(0,a._)("button",{type:"submit",class:(0,l.C_)(i.buttonClass)},(0,l.zw)(i.submitText),3)])],32),(0,a._)("button",{onClick:t[6]||(t[6]=t=>e.$emit("close-modal")),class:"bg-red-500 text-white hover:bg-blue-600 font-bold py-2 px-4 rounded w-full"},"Close")])],512)),[[o.F8,r.modalActive]])}var $e={props:{modalActive:{type:Boolean,default:!1},updatedProduct:{type:Object,default(){return{}}}},computed:{productStore(){return j()},product(){return Object.keys(this.updatedProduct).length>0?this.updatedProduct:{name:"",price:"",stock:"",sku:""}},isUpdating(){return Object.keys(this.updatedProduct).length>0},modalTitle(){return this.isUpdating?"Update Product":"Add new Product"},submitText(){return this.isUpdating?"Update Product":"Add new Product"},buttonClass(){return this.isUpdating?"mb-2 bg-blue-500 text-white hover:bg-blue-600 font-bold py-2 px-4 rounded w-full":"w-full mb-2 text-black bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 mb-4 rounded"}},methods:{saveProduct(){Object.keys(this.updatedProduct).length>0?(this.productStore.updateProduct(this.product),this.$emit("productUpdated")):(this.productStore.addProduct(this.product),this.$emit("productAdded")),this.$emit("close-modal")}},emits:["productAdded","productUpdated","close-modal"]};const He=(0,J.Z)($e,[["render",Le]]);var Ve=He;const Fe={class:"container"},Re={key:0},Ze={class:"w-full flex flex-row flex-no-wrap rounded-lg overflow-hidden my-5"},Ke={class:"text-white"},Ye={class:"bg-teal-400 flex flex-col flex-no wrap rounded-l-lg mb-2"},Be={class:"flex-1"},Je={key:1},Ee={class:"w-full flex flex-row flex-no-wrap bg-white rounded-lg overflow-hidden shadow-lg my-5"},Qe={class:"text-white"},Ge={class:"bg-teal-400 flex-col flex-no wrap table-row rounded-l-lg rounded-none mb-2 sm:mb-0"},Xe={class:"flex-none"};function et(e,t,r,o,d,s){return(0,a.wg)(),(0,a.iD)("div",Fe,[d.windowWidth<640?((0,a.wg)(),(0,a.iD)("div",Re,[(0,a._)("table",Ze,[(0,a._)("thead",Ke,[(0,a._)("tr",Ye,[(0,a.WI)(e.$slots,"thead",{},void 0,!0)])]),(0,a._)("tbody",Be,[(0,a.WI)(e.$slots,"trow",{},void 0,!0)])])])):((0,a.wg)(),(0,a.iD)("div",Je,[(0,a._)("table",Ee,[(0,a._)("thead",Qe,[(0,a._)("tr",Ge,[(0,a.WI)(e.$slots,"thead",{},void 0,!0)])]),(0,a._)("tbody",Xe,[(0,a.WI)(e.$slots,"trow",{},void 0,!0)])])]))])}var tt={data(){return{windowWidth:window.innerWidth}},mounted(){this.$nextTick((()=>{window.addEventListener("resize",this.onResize)}))},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){this.windowWidth=window.innerWidth}}};const rt=(0,J.Z)(tt,[["render",et],["__scopeId","data-v-37ed1d97"]]);var ot=rt,dt={components:{ProductsModal:Ve,TableComponent:ot},data(){return{products:[],filters:"",pageSize:10,displayedProducts:[],loadedProductsCount:0,showNoDataMessage:!1,updatedProduct:{},openProductModal:!1,windowWidth:window.innerWidth}},mounted(){this.$nextTick((()=>{window.addEventListener("resize",this.onResize)}))},beforeDestroy(){window.removeEventListener("resize",this.onResize)},created(){this.loadProducts()},computed:{productStore(){return j()},canLoadMore(){return this.loadedProductsCount<this.products.length}},methods:{loadProducts(){this.products=this.productStore.getProducts(),this.displayedProducts=this.products.slice(0,this.pageSize),this.loadedProductsCount=this.displayedProducts.length},loadMoreProducts(){const e=this.products.slice(this.loadedProductsCount,this.loadedProductsCount+this.pageSize);this.displayedProducts=[...this.displayedProducts,...e],this.loadedProductsCount+=e.length},deleteProduct(e){this.productStore.deleteProduct(e),this.loadProducts()},openModal(e){this.updatedProduct=e||{},this.openProductModal=!0},closeModal(){this.openProductModal=!1},filteredProducts(){""!==this.filters.trim()?this.displayedProducts=this.productStore.getProducts(this.filters):this.displayedProducts=this.productStore.getProducts(),this.showNoDataMessage=0===this.displayedProducts.length},resetFilter(){this.filters||(this.filters="",this.filteredProducts())},onResize(){this.windowWidth=window.innerWidth}}};const st=(0,J.Z)(dt,[["render",ze]]);var at=st;const lt={class:"flex mb-4"},it={key:0,class:"text-red-500 text-center mt-4"},nt={key:1,class:"text-red-500 text-center mt-4"},ct={class:"container"},ut={key:0},ht=(0,a._)("thead",{class:"text-white w-1/2"},[(0,a._)("tr",{class:"bg-teal-400 flex flex-col flex-no wrap rounded-l-lg mb-2"},[(0,a._)("th",{class:"p-3 text-left"},"Order ID"),(0,a._)("th",{class:"p-3 text-left"},"Name"),(0,a._)("th",{class:"p-3 text-left"},"Date"),(0,a._)("th",{class:"p-3 text-left"},"Total Amount"),(0,a._)("th",{class:"p-3 text-left"},"Actions")])],-1),pt={class:"flex-1 w-1/2"},gt={class:"flex flex-col flex-no wrap mb-2"},bt={class:"border-grey-light border hover:bg-gray-100 p-3"},mt={class:"border-grey-light border hover:bg-gray-100 p-3 truncate"},ft={class:"border-grey-light border hover-bg-gray-100 p-3 truncate"},yt={class:"border-grey-light border hover-bg-gray-100 p-3 truncate"},wt={class:"border-grey-light border hover:bg-gray-100 p-3 flex justify-between"},xt=["onClick"],vt=["onClick"],kt={key:1},_t={class:"w-full flex flex-row flex-no-wrap bg-white rounded-lg overflow-hidden shadow-lg my-5"},Ct=(0,a._)("thead",{class:"text-white"},[(0,a._)("tr",{class:"bg-teal-400 flex-col flex-no wrap table-row rounded-l-lg rounded-none mb-0"},[(0,a._)("th",{class:"py-3 px-4 text-left"},"Order ID"),(0,a._)("th",{class:"py-3 px-4 text-left"},"Customer Name"),(0,a._)("th",{class:"py-3 px-4 text-left"},"Date"),(0,a._)("th",{class:"py-3 px-4 text-left"},"Total Amount"),(0,a._)("th",{class:"py-3 px-4 text-center"},"Actions")])],-1),Ot={class:"flex-none"},Pt={class:"border-grey-light border hover:bg-gray-100 p-2"},St={class:"border-grey-light border hover:bg-gray-100 p-2 truncate"},Mt={class:"border-grey-light border hover-bg-gray-100 p-2 truncate"},Dt={class:"border-grey-light border hover-bg-gray-100 p-2 truncate"},zt={class:"border-grey-light border hover:bg-gray-100 p-3 flex justify-around"},At=["onClick"],Nt=["onClick"],Ut={class:"flex justify-end"};function qt(e,t,r,d,s,i){const n=(0,a.up)("OrderModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n,{updatedOrder:s.updatedOrder,modalActive:s.openOrderModal,onCloseModal:i.closeModal,onOrderAdded:t[0]||(t[0]=e=>i.loadOrders()),onOrderUpdated:t[1]||(t[1]=e=>i.loadOrders())},null,8,["updatedOrder","modalActive","onCloseModal"]),(0,a._)("button",{onClick:t[2]||(t[2]=e=>i.openModal()),class:"w-full md:w-2/5 bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 mb-4 rounded"},"Add new order"),(0,a._)("div",lt,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.filters=e),onInput:t[4]||(t[4]=(...e)=>i.resetFilter&&i.resetFilter(...e)),type:"text",class:"w-2/3 border border-gray-300 rounded-md py-2 px-4 flex-grow",placeholder:"Search Orders",required:""},null,544),[[o.nr,s.filters]]),(0,a._)("button",{onClick:t[5]||(t[5]=(...e)=>i.filteredOrders&&i.filteredOrders(...e)),class:"w-1/3 bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 ml-2 rounded"}," Search ")]),s.showNoDataMessage?((0,a.wg)(),(0,a.iD)("p",it," No data found. ")):(0,a.kq)("",!0),0===s.orders.length?((0,a.wg)(),(0,a.iD)("p",nt," No orders added yet ")):(0,a.kq)("",!0),(0,a._)("div",ct,[s.windowWidth<640?((0,a.wg)(),(0,a.iD)("div",ut,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.displayedOrders,((e,t)=>((0,a.wg)(),(0,a.iD)("table",{key:e.id,class:"w-full flex flex-row flex-no-wrap rounded-lg overflow-hidden my-5"},[ht,(0,a._)("tbody",pt,[(0,a._)("tr",gt,[(0,a._)("td",bt,(0,l.zw)(e.displayedId),1),(0,a._)("td",mt,(0,l.zw)(e.customer),1),(0,a._)("td",ft,(0,l.zw)(e.date),1),(0,a._)("td",yt,(0,l.zw)(e.totalAmount)+"€ ",1),(0,a._)("td",wt,[(0,a._)("span",{onClick:t=>i.openModal(e),class:"text-blue-400 hover:text-blue-600 hover:font-medium cursor-pointer"},"Update",8,xt),(0,a._)("span",{onClick:t=>i.deleteOrder(e),class:"text-red-400 hover:text-red-600 hover:font-medium cursor-pointer"},"Delete",8,vt)])])])])))),128))])):((0,a.wg)(),(0,a.iD)("div",kt,[(0,a._)("table",_t,[Ct,(0,a._)("tbody",Ot,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.displayedOrders,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id,class:"flex-col flex-no wrap mb-0"},[(0,a._)("td",Pt,(0,l.zw)(e.displayedId),1),(0,a._)("td",St,(0,l.zw)(e.customer),1),(0,a._)("td",Mt,(0,l.zw)(e.date),1),(0,a._)("td",Dt,(0,l.zw)(e.totalAmount)+"€ ",1),(0,a._)("div",zt,[(0,a._)("button",{onClick:t=>i.openModal(e),class:"text-blue-400 hover:text-blue-600 hover:font-medium cursor-pointer"},"Update",8,At),(0,a._)("button",{onClick:t=>i.deleteOrder(e),class:"text-red-400 hover:text-red-600 hover:font-medium cursor-pointer"},"Delete",8,Nt)])])))),128))])])]))]),(0,a._)("div",Ut,[i.canLoadMore?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[6]||(t[6]=(...e)=>i.loadMoreOrders&&i.loadMoreOrders(...e)),class:"w-2/5 bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 mt-4 rounded"}," Load More ")):(0,a.kq)("",!0)])],64)}const It={class:"fixed inset-0 flex items-center justify-center z-50"},Tt={class:"bg-white w-full md:w-2/3 lg:w-1/2 p-6 rounded-lg relative"},jt={class:"text-xl font-bold mb-4"},Wt=(0,a._)("label",{for:"customer",class:"text-gray-700"},"Chose a Customer",-1),Lt=(0,a._)("option",{value:"",disabled:"",selected:""},"Select a Customer",-1),$t=["value"],Ht=(0,a._)("label",{for:"date",class:"text-gray-700"},"Order Date",-1),Vt=(0,a._)("label",{for:"products",class:"text-gray-700"},"Choose Products",-1),Ft=(0,a._)("option",{disabled:"",selected:""},"Select a product",-1),Rt=["value"],Zt={key:0},Kt={key:0,class:"text-red-500"},Yt={class:"text-gray-700"},Bt={class:"text-gray-700"},Jt={class:"text-gray-700"},Et=["max"],Qt={class:"text-gray-700"},Gt=["disabled"],Xt={key:1},er=(0,a._)("h3",{class:"text-xl font-semibold mt-4"},"Selected Products:",-1),tr=["onClick"],rr={class:""};function or(e,t,r,d,s,i){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",It,[(0,a._)("div",{class:"bg-black bg-opacity-50 fixed inset-0",onClick:t[0]||(t[0]=t=>e.$emit("close-modal"))}),(0,a._)("div",Tt,[(0,a._)("h2",jt,(0,l.zw)(i.modalTitle),1),(0,a._)("form",{onSubmit:t[6]||(t[6]=(0,o.iM)(((...e)=>i.saveOrder&&i.saveOrder(...e)),["prevent"])),class:"space-y-4"},[(0,a._)("div",null,[Wt,(0,a.wy)((0,a._)("select",{id:"customer","onUpdate:modelValue":t[1]||(t[1]=e=>i.order.customer=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},[Lt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.customers,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.firstName+" "+e.lastName},(0,l.zw)(e.firstName+" "+e.lastName),9,$t)))),128))],512),[[o.bM,i.order.customer]])]),(0,a._)("div",null,[Ht,(0,a.wy)((0,a._)("input",{type:"date",id:"date","onUpdate:modelValue":t[2]||(t[2]=e=>i.order.date=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},null,512),[[o.nr,i.order.date]])]),(0,a._)("div",null,[Vt,(0,a.wy)((0,a._)("select",{id:"products","onUpdate:modelValue":t[3]||(t[3]=e=>s.selectedProduct=e),class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"},[Ft,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.products,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,l.zw)(e.name),9,Rt)))),128))],512),[[o.bM,s.selectedProduct]])]),s.selectedProduct?((0,a.wg)(),(0,a.iD)("div",Zt,[i.isSoldOut?((0,a.wg)(),(0,a.iD)("div",Kt,"Product Sold Out")):(0,a.kq)("",!0),(0,a._)("p",Yt,(0,l.zw)(i.products.find((e=>e.id===s.selectedProduct)).name)+" Price: €"+(0,l.zw)(s.selectedProductPrice),1),(0,a._)("p",Bt,"Stock: "+(0,l.zw)(s.selectedProductStock),1),(0,a._)("label",Jt,(0,l.zw)(i.products.find((e=>e.id===s.selectedProduct)).name)+" Quantity (Stock: "+(0,l.zw)(s.selectedProductStock-s.quantityToAdd)+")",1),(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>s.quantityToAdd=e),required:"",class:"block w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500",min:"0",max:s.selectedProductStock},null,8,Et),[[o.nr,s.quantityToAdd]]),(0,a._)("p",Qt,"Total Price: €"+(0,l.zw)(i.totalProductPrice),1),(0,a._)("button",{onClick:t[5]||(t[5]=(...e)=>i.addProductToOrder&&i.addProductToOrder(...e)),disabled:i.isSoldOut,class:"mt-2 bg-blue-500 text-white hover:bg-blue-600 font-bold py-2 px-4 rounded"},(0,l.zw)(i.isSoldOut?"Product Sold Out":"Add Product"),9,Gt)])):(0,a.kq)("",!0),i.order.products.length>0?((0,a.wg)(),(0,a.iD)("div",Xt,[er,(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.order.products,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},[(0,a.Uk)((0,l.zw)(e.name)+" - Quantity: "+(0,l.zw)(e.quantity)+" ",1),(0,a._)("button",{onClick:e=>i.removeProductFromOrder(t),class:"ml-2 text-red-600"},"Remove",8,tr)])))),128))])])):(0,a.kq)("",!0),(0,a._)("div",rr,[(0,a._)("button",{type:"submit",class:(0,l.C_)(i.buttonClass)},(0,l.zw)(i.submitText),3)])],32),(0,a._)("button",{onClick:t[7]||(t[7]=t=>e.$emit("close-modal")),class:"bg-red-500 text-white hover:bg-blue-600 font-bold py-2 px-4 rounded w-full"},"Close")])],512)),[[o.F8,r.modalActive]])}const dr=(0,d.Q_)("order",{state:()=>({orders:[]}),actions:{getOrders(e){if(e)return this.orders.filter((t=>{const r=e.toLowerCase().trim(),{customer:o,date:d,displayedId:s}=t;return o.toString().toLowerCase().includes(r)||d.toString().includes(r)||s.toString().toLowerCase().includes(r)}));try{return this.orders=JSON.parse(localStorage.getItem("orders")||"[]")}catch(t){console.error(t.message)}},generateReadableOrderId(){const e=(0,q.Z)();return`OR-${e.substring(0,5)}`},addOrder(e){try{const t=this.orders,r=(0,q.Z)(),o={...e,displayedId:this.generateReadableOrderId(),id:r};t.push(o),localStorage.setItem("orders",JSON.stringify(t)),this.updateProductStock(o.products,"substract"),I().addNotification({type:"success",message:"Order was added successfully"})}catch(t){console.error(t.message)}},deleteOrder(e){const t=this.orders.indexOf(e);t>-1&&(this.orders.splice(t,1),localStorage.setItem("orders",JSON.stringify(this.orders)),this.updateProductStock(e.products,"add"),I().addNotification({type:"success",message:"Order was deleted successfully"}))},updateOrder(e){try{const t=this.orders.findIndex((t=>t.id===e.id));if(t>-1){const r=this.orders[t];this.orders[t]=e,localStorage.setItem("orders",JSON.stringify(this.orders)),I().addNotification({type:"success",message:"Order was updated successfully"});const o=j();for(const t of e.products){const e=r.products.find((e=>e.id===t.id));if(e){const r=t.quantity-e.quantity;if(0!==r){const e=o.getProductById(t.id);e&&(e.stock-=r,o.updateProduct(e))}}}}}catch(t){console.error(t)}},updateProductStock(e,t){const r=j();for(const o of e)r.updateProductStock(o.id,o.quantity,t)}}});var sr={props:{modalActive:{type:Boolean,default:!1},updatedOrder:{type:Object,default(){return{}}}},data(){return{selectedProduct:null,quantityToAdd:0,selectedProductPrice:null,selectedProductStock:null,validationMessage:""}},computed:{orderStore(){return dr()},customers(){return T().getCustomers()},products(){return j().getProducts()},order(){return Object.keys(this.updatedOrder).length>0?this.updatedOrder:{customer:"",date:"",products:[]}},totalProductPrice(){if(this.selectedProduct&&this.quantityToAdd>0){const e=this.products.find((e=>e.id===this.selectedProduct));return(e.price*this.quantityToAdd).toFixed(2)}return 0},isSoldOut(){return 0===this.selectedProductStock},isUpdating(){return Object.keys(this.updatedOrder).length>0},modalTitle(){return this.isUpdating?"Update Order":"Add new Order"},submitText(){return this.isUpdating?"Update Order":"Add new Order"},buttonClass(){return this.isUpdating?"mb-2 bg-blue-500 text-white hover:bg-blue-600 font-bold py-2 px-4 rounded w-full":"w-full mb-2 text-black bg-white border-b border-gray-300 hover:border-gray-700 hover:bg-gray-800 hover:text-white dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:hover:bg-white dark:hover:border-gray-300 dark:hover:text-gray-800 font-bold py-2 px-4 mb-4 rounded"}},watch:{selectedProduct(e){if(e){const t=this.products.find((t=>t.id===e));this.selectedProductPrice=t.price,this.selectedProductStock=t.stock}else this.selectedProductPrice=null,this.selectedProductStock=null}},methods:{addProductToOrder(){if(this.selectedProduct&&this.quantityToAdd>0){const e=this.products.find((e=>e.id===this.selectedProduct)),t=this.order.products.findIndex((e=>e.id===this.selectedProduct));-1!==t?(this.order.products[t].quantity+=parseInt(this.quantityToAdd),this.order.products[t].totalPrice=this.order.products[t].quantity*e.price):this.order.products.push({id:this.selectedProduct,name:e.name,price:e.price,quantity:parseInt(this.quantityToAdd),totalPrice:this.quantityToAdd*e.price}),this.order.totalAmount=this.order.products.reduce(((e,t)=>e+t.totalPrice),0).toFixed(2),this.selectedProduct=null,this.quantityToAdd=0}},removeProductFromOrder(e){this.order.products.splice(e,1),this.order.totalAmount=this.order.products.reduce(((e,t)=>e+t.totalPrice),0).toFixed(2)},saveOrder(){Object.keys(this.updatedOrder).length>0?(this.orderStore.updateOrder(this.order),this.$emit("orderUpdated")):(this.orderStore.addOrder(this.order),this.$emit("orderAdded")),this.$emit("close-modal")}},emits:["orderAdded","orderUpdated","close-modal"]};const ar=(0,J.Z)(sr,[["render",or]]);var lr=ar,ir={components:{OrderModal:lr},data(){return{orders:[],updatedOrder:{},openOrderModal:!1,filters:"",pageSize:10,displayedOrders:[],loadedOrdersCount:0,showNoDataMessage:!1,windowWidth:window.innerWidth}},mounted(){this.$nextTick((()=>{window.addEventListener("resize",this.onResize)}))},beforeDestroy(){window.removeEventListener("resize",this.onResize)},created(){this.loadOrders()},computed:{orderStore(){return dr()},canLoadMore(){return this.loadedOrdersCount<this.orders.length}},methods:{loadOrders(){this.orders=this.orderStore.getOrders(),this.displayedOrders=this.orders.slice(0,this.pageSize),this.loadedOrdersCount=this.displayedOrders.length},loadMoreOrders(){const e=this.orders.slice(this.loadedOrdersCount,this.loadedOrdersCount+this.pageSize);this.displayedOrders=[...this.displayedOrders,...e],this.loadedOrdersCount+=e.length},openModal(e){this.updatedOrder=e||{},this.openOrderModal=!0},closeModal(){this.openOrderModal=!1},deleteOrder(e){this.orderStore.deleteOrder(e),this.loadOrders()},resetFilter(){this.filters||(this.filters="",this.filteredOrders())},filteredOrders(){""!==this.filters.trim()?this.displayedOrders=this.orderStore.getOrders(this.filters):this.displayedOrders=this.orderStore.getOrders(),this.showNoDataMessage=0===this.displayedOrders.length},onResize(){this.windowWidth=window.innerWidth}}};const nr=(0,J.Z)(ir,[["render",qt]]);var cr=nr;const ur={class:"mt-10 text-center"},hr=(0,a._)("h1",{class:"text-6xl font-bold mb-4"},"404",-1),pr=(0,a._)("p",{class:"text-2xl font-medium mb-8"},"Oops! Page not found",-1),gr=(0,a._)("a",{href:"/",class:"inline-block bg-white text-blue-500 hover:bg-blue-600 hover:text-white font-bold py-2 px-4 rounded"}," Go back to Home ",-1),br=[hr,pr,gr];function mr(e,t,r,o,d,s){return(0,a.wg)(),(0,a.iD)("div",ur,br)}var fr={};const yr=(0,J.Z)(fr,[["render",mr]]);var wr=yr;const xr={class:"container mx-auto text-center"},vr=(0,a._)("p",{class:"text-lg md:text-xl"}," Welcome to customer manager ",-1);function kr(e,t,r,o,d,s){const l=(0,a.up)("Line");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",xr,[vr,(0,a.Wm)(l,{data:s.chartData,options:d.options},null,8,["data","options"])])])}var _r=r(9646),Cr=r(5866);_r.kL.register(_r.uw,_r.f$,_r.od,_r.jn,_r.Dx,_r.u,_r.De);var Or={components:{Line:Cr.x1},data(){return{options:{responsive:!0,maintainAspectRatio:!0}}},computed:{chartData(){try{const e=dr(),t=e.getOrders();if(t){const e=t.map((e=>new Date(e.date))).sort(((e,t)=>e-t)),r=e.map((e=>new Date(e).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"}))),o=t.map((e=>e.totalAmount));return{labels:r,datasets:[{label:"Order total price",backgroundColor:"#f87979",data:o}]}}return{labels:[],datasets:[]}}catch(e){console.error("Error fetching orders data",e)}}}};const Pr=(0,J.Z)(Or,[["render",kr]]);var Sr=Pr;const Mr=[{name:"home",path:"/",component:Sr},{name:"customers",path:"/customers",component:ee},{name:"products",path:"/products",component:at},{name:"orders",path:"/orders",component:cr},{path:"/:any(.*)",component:wr}];var Dr=(0,s.p7)({routes:Mr,history:(0,s.PO)()});const zr={class:"mx-auto p-8"},Ar={class:"container mx-auto bg-white p-8 rounded-lg shadow"};function Nr(e,t,r,o,d,s){const l=(0,a.up)("NavBar"),i=(0,a.up)("router-view"),n=(0,a.up)("Notifications");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(l),(0,a._)("div",zr,[(0,a._)("div",Ar,[(0,a.Wm)(i)])]),(0,a.Wm)(n)])}const Ur={class:"bg-white border-b border-gray-200 dark:border-gray-600 dark:bg-gray-900"},qr={class:"flex flex-wrap justify-between items-center mx-auto max-w-screen-xl p-4"},Ir=(0,a._)("div",{class:"flex items-center"},[(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"dark:text-white w-6 h-6"},[(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})]),(0,a._)("span",{class:"ml-2 self-center text-xl font-semibold whitespace-nowrap dark:text-white"}," Order Manager")],-1),Tr=["aria-expanded"],jr=(0,a._)("span",{class:"sr-only"},"Open main menu",-1),Wr=(0,a._)("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14"},[(0,a._)("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 1h15M1 7h15M1 13h15"})],-1),Lr=[jr,Wr],$r={class:"flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"};function Hr(e,t,r,o,d,s){const i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",Ur,[(0,a._)("div",qr,[(0,a.Wm)(i,{to:{name:"home"}},{default:(0,a.w5)((()=>[Ir])),_:1}),(0,a._)("button",{"data-collapse-toggle":"mega-menu-full",type:"button",onClick:t[0]||(t[0]=e=>d.isMobileMenuOpen=!d.isMobileMenuOpen),class:"inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","aria-controls":"mega-menu-full","aria-expanded":d.isMobileMenuOpen?"true":"false"},Lr,8,Tr),(0,a._)("div",{id:"mega-menu-full",class:(0,l.C_)([{hidden:!d.isMobileMenuOpen,"md:flex":d.isMobileMenuOpen},"items-center justify-between font-medium w-full md:flex md:w-auto md:order-1"])},[(0,a._)("ul",$r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.links,(e=>((0,a.wg)(),(0,a.iD)("li",null,[(0,a.Wm)(i,{to:e.path,onClick:s.closeMobileMenu,class:"block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-blue-500 md:dark:hover:bg-transparent dark:border-gray-700"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.name),1)])),_:2},1032,["to","onClick"])])))),256))])],2)])])}var Vr={data(){return{isMobileMenuOpen:!1,links:[{name:"Home",path:"/"},{name:"Customers",path:"/customers"},{name:"Products",path:"/products"},{name:"Orders",path:"/orders"}]}},methods:{closeMobileMenu(){this.isMobileMenuOpen=!1}}};const Fr=(0,J.Z)(Vr,[["render",Hr]]);var Rr=Fr;const Zr={key:0,class:"notification-container"};function Kr(e,t,r,d,s,i){return(0,a.wg)(),(0,a.j4)(o.uT,{name:"notifications"},{default:(0,a.w5)((()=>[i.notifications.length>0?((0,a.wg)(),(0,a.iD)("div",Zr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.notifications,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:(0,l.C_)(i.notificationClass(e))},(0,l.zw)(e.message),3)))),128))])):(0,a.kq)("",!0)])),_:1})}var Yr={computed:{notifications(){return I().all}},methods:{notificationClass(e){return"success"===e.type?"notification success":"failed"===e.type?"notification failed":"warning"===e.type?"notification warning":"notification"}}};const Br=(0,J.Z)(Yr,[["render",Kr],["__scopeId","data-v-3d348f73"]]);var Jr=Br,Er={components:{NavBar:Rr,Notifications:Jr}};const Qr=(0,J.Z)(Er,[["render",Nr]]);var Gr=Qr;const Xr=(0,d.WB)(),eo=(0,o.ri)(Gr);eo.use(Xr).use(Dr).mount("#app")}},t={};function r(o){var d=t[o];if(void 0!==d)return d.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,o,d,s){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],d=e[c][1],s=e[c][2];for(var l=!0,i=0;i<o.length;i++)(!1&s||a>=s)&&Object.keys(r.O).every((function(e){return r.O[e](o[i])}))?o.splice(i--,1):(l=!1,s<a&&(a=s));if(l){e.splice(c--,1);var n=d();void 0!==n&&(t=n)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,d,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var d,s,a=o[0],l=o[1],i=o[2],n=0;if(a.some((function(t){return 0!==e[t]}))){for(d in l)r.o(l,d)&&(r.m[d]=l[d]);if(i)var c=i(r)}for(t&&t(o);n<a.length;n++)s=a[n],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(c)},o=self["webpackChunkcustomers_manager"]=self["webpackChunkcustomers_manager"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(4868)}));o=r.O(o)})();
//# sourceMappingURL=app.7a483aee.js.map